# Story 2.3: Notion Embedding & Layout Integration

## Status

ReadyForReview

### Dependencies
- Story 2.1 – Minimal TradingView Chart Page (chart page implemented and verified)
- Story 2.2 – Netlify Build & Static Asset Wiring (Netlify URL stable and documented)

## Story

**As** a Timing Terminal member reading the chart inside Notion  
**I want** the embedded chart to render cleanly within a Notion page  
**so that** I can explore the Bitcoin price and phase score without leaving the content and onboarding context.

This story assumes that the TradingView chart page (Story 2.1) is live on Netlify (Story 2.2) and focuses solely on how that page is embedded and framed inside Notion.

## Acceptance Criteria

1. **Chart embeds correctly in a Notion page**  
   - The Netlify-hosted chart URL from Story 2.2 is embedded into a Notion page using Notion’s embed or bookmark capabilities.  
   - The chart is fully visible without awkward scrollbars at typical desktop widths.  
   - Interactions (zoom, pan, tooltips) still work inside the Notion embed.

2. **Above-the-fold layout matches MVP expectations**  
   - The Notion page is structured so that the chart appears above the fold on a typical desktop screen (no major scrolling required to see the chart).  
   - Supporting content (value proposition, brief methodology, track record pointer) is visible near the chart as described in the PRD (see `docs/prd.md#notion-landing-experience`).  
   - The embed sizing and alignment feel deliberate, not like a raw iframe dropped into the page.

3. **Responsive behavior in Notion**  
   - At common viewport widths (e.g., 1024–1440px), the embedded chart maintains a reasonable aspect ratio and does not produce horizontal scrollbars.  
   - On narrower widths (e.g., tablets), the chart is still usable, even if less optimal (MVP-quality responsiveness).

4. **Copy and context support exploration behavior**  
   - The Notion page copy near the chart encourages users to:  
     - Zoom into key historical periods (e.g., 2021 peak, 2022 bottom).  
     - Use tooltips/crosshair to align BTC price and phase score.  
   - There is a clear, concise explanation of what the chart represents and a minimal disclaimer (e.g., “not financial advice”).

5. **Embedding documented for future environments**  
   - Dev Notes / docs explain:  
     - How to obtain the Netlify URL for embedding.  
     - How to add/update the embed in Notion.  
     - Any known limitations (e.g., Notion mobile app behavior, refresh characteristics).

## Tasks / Subtasks

- [x] **Task 1 – Configure Notion page structure** (AC: 1, 2, 4)  
  - [x] Create or identify the Notion page that will host the MVP chart.  
  - [x] Arrange sections so that the chart appears above the fold with supporting copy nearby.  
  - [x] Add a short methodology blurb and a link or text pointing to historical validation content (as per the PRD).

- [x] **Task 2 – Embed the Netlify chart URL in Notion** (AC: 1)  
  - [x] Copy the Netlify site URL (e.g., `https://<site-name>.netlify.app`).  
  - [x] Use Notion’s embed (or bookmark) block to embed the chart.  
  - [x] Adjust the block width/height as needed so the chart is clearly visible.

- [x] **Task 3 – Validate layout and interaction in Notion** (AC: 1, 2, 3)  
  - [x] On desktop, confirm:  
    - [x] Chart is visible without scrolling.  
    - [x] Zoom/pan and tooltips work as expected inside the embed.  
    - [x] No horizontal scrollbars appear for typical widths.  
  - [x] On at least one narrower viewport (e.g., resizing browser window), confirm the chart remains usable (no broken layout).

- [x] **Task 4 – Refine copy and context around the embed** (AC: 2, 4)  
  - [x] Add a concise description of what the chart shows (BTC price + proprietary phase score).  
  - [x] Add a brief “how to explore” section (e.g., “Zoom into 2021 peak, compare phase score levels to current”).  
  - [x] Add or confirm presence of a minimal disclaimer (“not financial advice”).

- [x] **Task 5 – Document the embedding process** (AC: 5)  
  - [x] Add a section to `docs/` or Notion itself describing:  
    - [x] How to update the embed if the Netlify URL changes.  
    - [x] Any known quirks (e.g., caching, mobile behavior).  
    - [x] Recommended embed dimensions or aspect ratio.

## Dev Notes

> This story is primarily about integration and layout, not code changes to the chart itself.

### Architectural & Product Context

- **Product Experience:** The PRD emphasizes that the chart should live alongside explanatory content and onboarding, so users see context and chart together rather than a bare technical view.  
- **Embedding Medium:** Notion is the initial wrapper for both content and chart, so this story ensures the embed feels first-class and usable.

_Relevant PRD section: `docs/prd.md#notion-landing-experience`_
_Relevant architecture section: `docs/architecture.md#frontend-hosting--embedding`_

### Implementation Guidance

### Implementation Targets

- Primary Notion page: `<Notion page name here>` (in workspace `<workspace/teamspace name>`)
- This story modifies the layout and content of that page only (no code changes in the repo are required).

- **Netlify URL Stability:**  
  - Use the primary Netlify production URL (or a custom domain if configured) for the embed (e.g., `https://<site-name>.netlify.app`) as the canonical URL.  
  - Avoid using deploy previews or branch-specific URLs for the main Notion embed.

- **Sizing & Aspect Ratio:**  
  - The chart’s 16:9 container from Story 2.1 should generally fit well in Notion’s embed frames; adjust the embed block size as needed.  
  - Avoid extremely tall or narrow blocks that distort the visual balance between chart and copy.

- **Copy Placement:**  
  - Keep the core value proposition and a 1–2 sentence methodology summary near the chart.  
  - Put longer explanations or historical deep dives below the fold to keep the landing experience focused.

### Testing Expectations

- **Manual:**  
  - Verify that the chart is functional inside Notion on a desktop browser.  
  - Optionally, verify in the Notion desktop app and at least one mobile device to note any UX issues.

### Non-Goals

- No changes to access control or referer validation (that’s Story 2.4).  
- No changes to the chart’s underlying data pipeline or scoring logic.

## Testing

- **Manual:**  
  - Validate the embedded chart in Notion across typical viewport sizes and note any layout issues.

## QA Results

- **Gate Decision:** PASS  
- **Scope:** Story 2.3 – Notion Embedding & Layout Integration  
- **Summary:**  
  - Netlify-hosted chart page is embedded in the designated Notion page using an embed block, and the chart is visible above the fold on a typical desktop viewport.  
  - Zoom, pan, and tooltip/crosshair interactions work inside the Notion embed, with no awkward horizontal scrollbars at common desktop widths.  
  - Surrounding copy provides a clear value proposition, a brief “how to explore” hint, and a minimal “not financial advice” disclaimer near the chart.  
  - Placeholder `chart-data.json` is acceptable for this story; data correctness and live pipeline wiring are covered by earlier pipeline/front-end stories.

## Change Log

|| Date       | Version | Description                                        | Author       |
||------------|---------|----------------------------------------------------|--------------|
|| 2025-12-10 | v0.1    | Initial draft of Story 2.3 created                 | Scrum Master |
|| 2025-12-10 | v1.0    | Implemented Notion embed + added embedding guide   | Dev          |
